generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  password  String
  name      String?
  role      String   @default("admin")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model ContactSubmission {
  id           String   @id @default(cuid())
  firstName    String
  lastName     String
  email        String
  phone        String?
  organization String?
  subject      String
  message      String
  status       String   @default("new")
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

model InscriptionSubmission {
  id          String   @id @default(cuid())
  firstName   String
  lastName    String
  email       String
  phone       String?
  country     String?
  program     String
  profile     String?
  motivation  String?
  status      String   @default("new")
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  cvUrl       String?
  lastDiploma String?
}

model FranchiseSubmission {
  id           String   @id @default(cuid())
  firstName    String
  lastName     String
  email        String
  phone        String?
  country      String
  city         String
  organization String?
  motivation   String?
  project      String?
  status       String   @default("new")
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

model RecruitmentSubmission {
  id             String   @id @default(cuid())
  firstName      String
  lastName       String
  email          String
  phone          String
  role           String
  cvUrl          String
  coverLetterUrl String?
  diplomaUrl     String?
  status         String   @default("new")
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model SiteSettings {
  id             String   @id @default("main")
  primaryColor   String   @default("#0A2A43")
  secondaryColor String   @default("#153D63")
  accentColor    String   @default("#C9A44A")
  textColor      String   @default("#4A4A4A")
  bgColor        String   @default("#F5F6F7")
  contactEmail   String   @default("info@ethsun-oxford.uk")
  contactPhone   String   @default("+44 74 2420 1585")
  address        String   @default("Oxford, United Kingdom")
  adminEmail     String   @default("admin@ethsun-oxford.uk")
  facebookUrl    String   @default("")
  twitterUrl     String   @default("")
  linkedinUrl    String   @default("")
  instagramUrl   String   @default("")
  whatsappNumber String   @default("")
  updatedAt      DateTime @updatedAt
}

model Stat {
  id        String   @id @default(cuid())
  value     String
  labelFr   String
  labelEn   String
  labelEs   String
  sortOrder Int      @default(0)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Testimonial {
  id        String   @id @default(cuid())
  textFr    String
  textEn    String?
  textEs    String?
  author    String
  role      String?
  rating    Int      @default(5)
  isActive  Boolean  @default(true)
  sortOrder Int      @default(0)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model CertificationCategory {
  id             String          @id @default(cuid())
  slug           String          @unique
  nameFr         String
  nameEn         String?
  nameEs         String?
  sortOrder      Int             @default(0)
  isActive       Boolean         @default(true)
  createdAt      DateTime        @default(now())
  updatedAt      DateTime        @updatedAt
  certifications Certification[]
}

model Certification {
  id            String                 @id @default(cuid())
  slug          String                 @unique
  categoryId    String?
  titleFr       String
  titleEn       String?
  titleEs       String?
  duration      String
  level         String
  price         String
  startDate     String?
  descriptionFr String
  descriptionEn String?
  descriptionEs String?
  objectifsFr   String                 @default("[]")
  objectifsEn   String?
  objectifsEs   String?
  debouchesFr   String                 @default("[]")
  debouchesEn   String?
  debouchesEs   String?
  isActive      Boolean                @default(true)
  sortOrder     Int                    @default(0)
  createdAt     DateTime               @default(now())
  updatedAt     DateTime               @updatedAt
  imageUrl      String?
  category      CertificationCategory? @relation(fields: [categoryId], references: [id])
  modules       CertificationModule[]
}

model CertificationModule {
  id              String        @id @default(cuid())
  certificationId String
  titleFr         String
  titleEn         String?
  titleEs         String?
  descriptionFr   String
  descriptionEn   String?
  descriptionEs   String?
  sortOrder       Int           @default(0)
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @updatedAt
  certification   Certification @relation(fields: [certificationId], references: [id], onDelete: Cascade)
}

model Partner {
  id        String   @id @default(cuid())
  name      String
  logoUrl   String
  website   String?
  sortOrder Int      @default(0)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Event {
  id              String   @id @default(cuid())
  titleFr         String
  titleEn         String?
  titleEs         String?
  descriptionFr   String
  descriptionEn   String?
  descriptionEs   String?
  type            String
  date            String
  location        String
  capacity        Int?
  registrationUrl String?
  imageUrl        String?
  isActive        Boolean  @default(true)
  sortOrder       Int      @default(0)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  contentEn       String?
  contentEs       String?
  contentFr       String?
}

model JobOffer {
  id               String   @id @default(cuid())
  titleFr          String
  titleEn          String?
  titleEs          String?
  descriptionFr    String
  descriptionEn    String?
  descriptionEs    String?
  startDate        String?
  qualificationsFr String?
  qualificationsEn String?
  qualificationsEs String?
  whyJoinUsFr      String?
  whyJoinUsEn      String?
  whyJoinUsEs      String?
  isActive         Boolean  @default(true)
  sortOrder        Int      @default(0)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}
